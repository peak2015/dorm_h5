(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b1f5d37"],{"19a4":function(t,e){t.exports="data:image/png;base64,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"},bd8e:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("v-back",{attrs:{title:"通行统计 - 通行记录（"+t.list.length+"条数据）"}}),a("div",{staticClass:"box"},[a("md-field",[a("md-field-item",{attrs:{title:"选择日期",content:t.selectorValue1,arrow:"",solid:""},on:{click:t.showSelector1}}),a("md-field-item",{attrs:{title:"选择宿舍楼",content:t.selectorValue2,arrow:"",solid:""},on:{click:t.showSelector2}}),a("md-field-item",{attrs:{title:"用户类型",content:t.selectorValue,arrow:"",solid:""},on:{click:t.showSelector}})],1)],1),a("md-date-picker",{ref:"datePicker",attrs:{type:"custom",title:"选择日期","large-radius":"","custom-types":["yyyy","MM","dd"],"default-date":t.currentDate},on:{confirm:t.onSelectorConfirm1},model:{value:t.isSelectorShow1,callback:function(e){t.isSelectorShow1=e},expression:"isSelectorShow1"}}),a("md-selector",{attrs:{data:t.data2,"min-height":"320px","max-height":"320px",title:"选择宿舍楼",okText:"确认","large-radius":""},on:{confirm:t.onSelectorConfirm2},model:{value:t.isSelectorShow2,callback:function(e){t.isSelectorShow2=e},expression:"isSelectorShow2"}}),a("md-selector",{attrs:{data:t.data,"min-height":"320px","max-height":"320px",title:"搜索类型",okText:"确认","large-radius":""},on:{confirm:t.onSelectorConfirm},model:{value:t.isSelectorShow,callback:function(e){t.isSelectorShow=e},expression:"isSelectorShow"}}),a("div",{staticClass:"list_box"},t._l(t.list,(function(e,o){return a("div",{key:o,staticClass:"list",on:{click:function(s){return t.itemShow(e)}}},[a("div",{staticClass:"flex"},[e.snap_photo||e.photo?a("img",{attrs:{src:e.snap_photo||e.photo,alt:""},on:{click:function(s){return s.stopPropagation(),t.imgsShow(e.snap_photo||e.photo)}}}):a("img",{attrs:{src:s("19a4"),alt:""}}),a("div",[a("div",{staticClass:"flex"},[a("h4",[t._v(t._s(e.student_name))]),t._v("["+t._s(t.usertypeText(e.usertype))+"] "+t._s(e.student_nbr)+" \n\t\t\t\t\t\t"),"S"==e.usertype?a("span",{class:"在寝"==t.statusText(e)?"active":"未归"==t.statusText(e)?"":"noactive"},[t._v("["+t._s(t.statusText(e))+"]")]):t._e()]),a("div",{staticStyle:{padding:"2vw 0"}},[t._v("通行通道："),a("span",{staticStyle:{"font-size":"3.6vw","font-weight":"bolder"},style:"1"==e.entry_exit_type?"color: #1acfc6;":"2"==e.entry_exit_type?"color: red;":"color: #ccc;"},[t._v("("+t._s("1"==e.entry_exit_type?"进":"2"==e.entry_exit_type?"出":"未知")+")")]),t._v(t._s(e.snap_camera_name))]),a("div",[t._v("通行时间："+t._s(e.entry_exit_time))])])])])})),0),a("md-landscape",{attrs:{"full-screen":!0},model:{value:t.showFullScreen,callback:function(e){t.showFullScreen=e},expression:"showFullScreen"}},[a("div",{staticStyle:{"text-align":"left",padding:"4vw","font-size":"4vw","line-height":"6vw"}},[a("div",{staticStyle:{"margin-bottom":"4vw"}},[t._v("详细信息")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"I"!=t.showData.usertype,expression:"showData.usertype != 'I'"}],staticClass:"flex align_center",staticStyle:{"background-color":"#1acfc6","box-sizing":"border-box",padding:"2vw","border-radius":"1vw"}},[t.showData.photo?a("img",{staticStyle:{"box-sizing":"border-box",width:"30vw",margin:"0 auto",display:"block","box-shadow":"2px 2px 5px rgba(0,0,0,.2)",border:"1px solid #f5f5f5"},attrs:{src:t.showData.photo,alt:""},on:{click:function(e){return t.imgsShow(t.showData.photo)}}}):a("img",{staticStyle:{"box-sizing":"border-box",width:"30vw",margin:"0 auto","padding-top":"2vw",display:"block","box-shadow":"2px 2px 5px rgba(0,0,0,.2)",border:"1px solid #f5f5f5"},attrs:{src:s("19a4"),alt:""}}),a("div",{staticClass:"flex btns"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[a("div",{on:{click:function(e){return t.statusChange(1)}}},[t._v("在寝")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[a("div",{on:{click:function(e){return t.statusChange(0)}}},[t._v("未归")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[a("div",{on:{click:t.statusChange}},[t._v("实习")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[a("div",{on:{click:t.statusChange}},[t._v("请假")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[a("div",{on:{click:t.statusChange}},[t._v("毕业")])])])]),a("div",{staticClass:"person_list_text"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}],staticClass:"flex"},[t._v("\n\t\t\t\t\t当时状态：\n\t\t\t\t\t"),a("div",{staticClass:"full_status"},[t._v("\n\t\t\t\t\t\t"+t._s(t.personStatusText(t.showData))+" | \n\t\t\t\t\t\t"),a("span",{class:"在寝"==t.statusText(t.showData)?"active":"未归"==t.statusText(t.showData)?"":"noactive"},[t._v(t._s(t.statusText(t.showData)))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"正常"!=t.personStatusText(t.showData),expression:"personStatusText(showData) != '正常'"}],staticClass:"flex align_center"},[t._v("请假/实习："+t._s(t.aroundTime)+" "),a("md-icon",{attrs:{name:"id-card",size:"lg"},on:{click:function(e){return t.imgsShow(t.showData.person_io_leave_practices[0].photo)}}})],1),a("div",{staticClass:"flex"},[t._v("抓拍图片："),a("img",{directives:[{name:"show",rawName:"v-show",value:t.showData.snap_photo,expression:"showData.snap_photo"}],staticStyle:{width:"15vw",height:"15vw"},attrs:{src:t.showData.snap_photo,alt:""},on:{click:function(e){return t.imgsShow(t.showData.snap_photo)}}})]),a("div",[t._v("姓名："+t._s(t.showData.student_name)+"["+t._s(t.usertypeText(t.showData.usertype))+"]")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"I"!=t.showData.usertype,expression:"showData.usertype != 'I'"}]},[t._v("学号/工号："+t._s(t.showData.student_nbr))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[t._v("学院："+t._s(t.showData.org_names))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[t._v("班级："+t._s(t.showData.class_names||"--"))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[t._v("住宿信息："+t._s(t.showData.building_name)+t._s(t.showData.dorm_nbr||"--")+"间"+t._s(t.showData.sys_user?t.showData.sys_user.bed_nbr:"--")+"床")]),a("div",[t._v("当时通行："),a("span",{staticStyle:{"font-size":"3.6vw","font-weight":"bolder"},style:"1"==t.showData.entry_exit_type?"color: #1acfc6;":"2"==t.showData.entry_exit_type?"color: red;":"color: #ccc;"},[t._v("("+t._s("1"==t.showData.entry_exit_type?"进":"2"==t.showData.entry_exit_type?"出":"未知")+")")]),t._v(t._s(t.showData.snap_camera_name)+" "+t._s(t.showData.entry_exit_time))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"S"==t.showData.usertype,expression:"showData.usertype == 'S'"}]},[t._v("备注："+t._s(t.showData.modify_in_dorm_status_logs&&t.showData.modify_in_dorm_status_logs.length>0?"在寝状态由【"+t.showData.modify_in_dorm_status_logs[0].modify_user_name+"】在【"+t.showData.modify_in_dorm_status_logs[0].modify_time+"】修正过":"--"))])])])]),a("md-image-viewer",{attrs:{list:t.imgs,"has-dots":!0},model:{value:t.isViewerShow,callback:function(e){t.isViewerShow=e},expression:"isViewerShow"}})],1)},o=[],i=(s("6d57"),s("ff21"),s("77df"),s("3792"),s("7510")),r=s.n(i),n={name:"traffic_list",data:function(){return{selectorValue1:"",selectorValue2:"",isSelectorShow1:!1,isSelectorShow2:!1,currentDate:new Date,value1:"",value2:"",data2:[],list:[],selectorValue:"全部",selectorActive:"",isSelectorShow:!1,data:[{value:"",text:"全部"},{value:"S",text:"学生"},{value:"T",text:"教师"},{value:"V",text:"访客"},{value:"Y",text:"黄名单"},{value:"I",text:"陌生人"}],showFullScreen:!1,showData:{},isViewerShow:!1,imgs:[],aroundTime:""}},methods:{usertypeText:function(t){var e="";return this.data.forEach((function(s){s.value==t&&(e=s.text)})),e},statusText:function(t){return t.modify_in_dorm_status_logs&&t.modify_in_dorm_status_logs.length>0?0==t.modify_in_dorm_status_logs[0].in_dorm_status?"未归":1==t.modify_in_dorm_status_logs[0].in_dorm_status?"在寝":"未知":1==t.entry_exit_type?"在寝":2==t.entry_exit_type?"未归":"未知"},personStatusText:function(t){var e="无记录";return null!=t.entry_exit_status&&"0"==t.entry_exit_status&&(e="正常"),t.person_io_leave_practices&&t.person_io_leave_practices.length>0&&(this.aroundTime=r()(t.person_io_leave_practices[0].no_attend_starttime).format("YYYY-MM-DD")+" ~ "+r()(t.person_io_leave_practices[0].no_attend_endtime).format("YYYY-MM-DD"),e=1==t.person_io_leave_practices[0].type?"请假":"实习"),e},imgsShow:function(t){this.isViewerShow=!0,this.imgs=[t]},showSelector:function(){this.isSelectorShow=!0},onSelectorConfirm:function(t){var e=t.text,s=t.value;this.selectorValue=e,this.selectorActive=s,this.getData()},getFloor:function(){var t=this;this.$getL("/dorm/floor",{userId:JSON.parse(localStorage.getItem("user")).user_id},(function(e){t.data2=[],e.data.forEach((function(e,s){t.data2.push({value:e.buildingId,text:e.buildingName}),t.value2==e.buildingId&&(t.selectorValue2=e.buildingName)})),t.getData()}))},showSelector1:function(){this.isSelectorShow1=!0},showSelector2:function(){this.isSelectorShow2=!0},onSelectorConfirm1:function(){this.value1=this.$refs.datePicker.getFormatDate("yyyy-MM-dd"),this.selectorValue1=this.$refs.datePicker.getFormatDate("yyyy-MM-dd"),this.getData()},onSelectorConfirm2:function(t){var e=t.text,s=t.value;this.value2=s,this.selectorValue2=e,this.getData()},getData:function(){var t=this;this.$getL("/traffic_statistics/people",{userId:JSON.parse(localStorage.getItem("user")).user_id,entryExitTime:this.value1,buildingId:this.value2,usertype:this.selectorActive},(function(e){console.log(e.test),t.list=e.test,t.$toast.hide()}))},itemShow:function(t){this.showData=t,this.showFullScreen=!0},statusChange:function(){}},mounted:function(){var t=this;this.selectorValue1=r()(new Date(this.$route.query.entryExitTime)).format("YYYY-MM-DD"),this.selectorActive=this.$route.query.usertype,this.data.forEach((function(e){e.value==t.$route.query.usertype&&(t.selectorValue=e.text)})),this.value1=r()(new Date(this.$route.query.entryExitTime)).format("YYYY-MM-DD"),this.value2=this.$route.query.buildingId,this.getFloor()}},l=n,c=(s("e277"),s("e90a")),h=Object(c["a"])(l,a,o,!1,null,"597bcac3",null);e["default"]=h.exports},d47c:function(t,e,s){},e277:function(t,e,s){"use strict";var a=s("d47c"),o=s.n(a);o.a}}]);
//# sourceMappingURL=chunk-1b1f5d37.c82b6e06.js.map